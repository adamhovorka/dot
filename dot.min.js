dot=function(){function e(e){var t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,function(e,t,n,r){return t+t+n+n+r+r});var n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return n?{r:parseInt(n[1],16),g:parseInt(n[2],16),b:parseInt(n[3],16)}:null}function t(e){var t=e.toString(16);return t.length==1?"0"+t:t}function n(e,n,r){return"#"+t(e)+t(n)+t(r)}return{setCA:function(e){this._ca=e;this.setCX(e.getContext("2d"));return this},setCX:function(e){this._cx=e;this._pixel=e.createImageData(1,1);return this},setColor:function(t){c=e(t);this._pixel.data[0]=c.r;this._pixel.data[1]=c.g;this._pixel.data[2]=c.b;this._pixel.data[3]=255;return this},getColor:function(){var e=this._pixel.data;return n(e[0],e[1],e[2])},clear:function(){this._cx.clearRect(0,0,this._ca.width,this._ca.height);return this},coords2:function(e,t){var n=this._ca.width/2;var r=this._ca.height/2;return{x:e*n+n,y:-t*r+r}},dot:function(e,t){this._cx.putImageData(this._pixel,t,e);return this},dot2:function(e,t){var n=this.coords2(e,t);this.dot(n.y,n.x);return this},line:function(e,t,n,r){e=Math.round(e);t=Math.round(t);n=Math.round(n);r=Math.round(r);var i=Math.abs(n-e);var s=Math.abs(r-t);var o=e<n?1:-1;var u=t<r?1:-1;var a=i-s;while(true){this.dot(t,e);if(e==n&&t==r)break;var f=2*a;if(f>-s){a-=s;e+=o}if(f<i){a+=i;t+=u}}return this},line2:function(e,t,n,r){var i=this.coords2(e,t);var s=this.coords2(n,r);this.line(i.x,i.y,s.x,s.y);return this},circle:function(e,t,n){var r=0;var i=n;var s=3-2*n;if(!n)return;while(i>=r){this.dot(t-i,e-r);this.dot(t-r,e-i);this.dot(t-r,e+i);this.dot(t-i,e+r);this.dot(t+i,e-r);this.dot(t+r,e-i);this.dot(t+r,e+i);this.dot(t+i,e+r);if(s<0){s+=4*r++ +6}else{s+=4*(r++ -i--)+10}}return this},circle2:function(e,t,n){var r=this.coords2(e,t);var i=this.coords2(n-1,0);this.circle(r.x,r.y,i.x);return this},param:function(e,t,n,r){var i=n==undefined?0:t;var s=n==undefined?t:n;var o=r==undefined?1:r;for(var u=i;u<=s;u+=o){var a=e(u);this.dot(a.y,a.x)}return this},param2:function(e,t,n,r){var i=n==undefined?0:t;var s=n==undefined?t:n;var o=r==undefined?1:r;for(var u=i;u<=s;u+=o){var a=e(u);var f=this.coords2(a.x,a.y);console.log(f.y,f.x);this.dot(f.y,f.x)}return this},parl:function(e,t,n,r){var i=n==undefined?0:t;var s=n==undefined?t:n;var o=r==undefined?1:r;var u=e(i);for(var a=i+o;a<=s;a+=o){var f=e(a);this.line(u.x,u.y,f.x,f.y);u.x=f.x;u.y=f.y}return this},parl2:function(e,t,n,r){var i=n==undefined?0:t;var s=n==undefined?t:n;var o=r==undefined?1:r;var u=e(i);var a=this.coords2(u.x,u.y);for(var f=i+o;f<=s;f+=o){var l=e(f);var c=this.coords2(l.x,l.y);this.line(a.x,a.y,c.x,c.y);a.x=c.x;a.y=c.y}return this}}}()
