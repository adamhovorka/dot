dot=function(){function a(a){var b=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;a=a.replace(b,function(a,b,c,d){return b+b+c+c+d+d});var c=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a);return c?{r:parseInt(c[1],16),g:parseInt(c[2],16),b:parseInt(c[3],16)}:null}function b(a){var b=a.toString(16);return 1==b.length?"0"+b:b}function d(a,c,d){return"#"+b(a)+b(c)+b(d)}return{setCA:function(a){return this._ca=a,this.setCX(a.getContext("2d")),this},setCX:function(a){return this._cx=a,this._pixel=a.createImageData(1,1),this},setColor:function(b){return c=a(b),this._pixel.data[0]=c.r,this._pixel.data[1]=c.g,this._pixel.data[2]=c.b,this._pixel.data[3]=255,this},getColor:function(){var a=this._pixel.data;return d(a[0],a[1],a[2])},clear:function(){return this._cx.clearRect(0,0,this._ca.width,this._ca.height),this},coords2:function(a,b){var c=this._ca.width/2,d=this._ca.height/2;return{x:a*c+c,y:-b*d+d}},dot:function(a,b){return this._cx.putImageData(this._pixel,b,a),this},dot2:function(a,b){var c=this.coords2(a,b);return this.dot(c.y,c.x),this},line:function(a,b,c,d){a=Math.round(a),b=Math.round(b),c=Math.round(c),d=Math.round(d);for(var e=Math.abs(c-a),f=Math.abs(d-b),g=c>a?1:-1,h=d>b?1:-1,i=e-f;;){if(this.dot(b,a),a==c&&b==d)break;var j=2*i;j>-f&&(i-=f,a+=g),e>j&&(i+=e,b+=h)}return this},line2:function(a,b,c,d){var e=this.coords2(a,b),f=this.coords2(c,d);return this.line(e.x,e.y,f.x,f.y),this},circle:function(a,b,c){var d=0,e=c,f=3-2*c;if(c){for(;e>=d;)this.dot(b-e,a-d),this.dot(b-d,a-e),this.dot(b-d,a+e),this.dot(b-e,a+d),this.dot(b+e,a-d),this.dot(b+d,a-e),this.dot(b+d,a+e),this.dot(b+e,a+d),f+=0>f?4*d++ +6:4*(d++-e--)+10;return this}},circle2:function(a,b,c){var d=this.coords2(a,b),e=this.coords2(c-1,0);return this.circle(d.x,d.y,e.x),this},param:function(a,b,c,d){for(var e=void 0==c?0:b,f=void 0==c?b:c,g=void 0==d?1:d,h=e;f>=h;h+=g){var i=a(h);this.dot(i.y,i.x)}},param2:function(a,b,c,d){for(var e=void 0==c?0:b,f=void 0==c?b:c,g=void 0==d?1:d,h=e;f>=h;h+=g){var i=a(h),j=this.coords2(i.x,i.y);console.log(j.y,j.x),this.dot(j.y,j.x)}}}}();
